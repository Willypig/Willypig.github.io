<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Da Vinci Code 終極密碼</title>
    <link rel="stylesheet" href="Da_Vinci_Code.css">
</head>

<body>
    <div class="game">
        <div class="container">
            <h1>終極密碼</h1>
            <div class="illustrate">
                <p>請輸入1-100之間的數字</p>
            </div>
            <div class="input">
                <input type="text" name="number" id="number">
            </div>
            <div class="btngroup">
                <button class="numbtn" value="1">1</button>
                <button class="numbtn" value="2">2</button>
                <button class="numbtn" value="3">3</button>
                <button class="numbtn" value="4">4</button>
                <button class="numbtn" value="5">5</button>
                <button class="numbtn" value="6">6</button>
                <button class="numbtn" value="7">7</button>
                <button class="numbtn" value="8">8</button>
                <button class="numbtn" value="9">9</button>
                <button class="numbtn" value="0">0</button>
                <button class="enter">輸入</button>
                <button class="del">刪除</button>
            </div>
            <div class="control_btn">
                <button class="answer">看答案</button>
                <button class="reset">重玩</button>
            </div>
        </div>
    </div>

    <script>
        let min = 1;
        let max = 100;
        const input = document.querySelector('input');
        const illustrate = document.querySelector('.illustrate');
        const result = getRandomNumber(min, max);

        const numbtn = document.querySelectorAll('.numbtn');
        numbtn.forEach((num) => {
            num.addEventListener('click', () => {
                input.value += num.value;
                // input.focus();
            });
        });

        // document.querySelector('.btngroup').addEventListener('click',(e)=>{
        //     input.value += e.target.value;
        // })

        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }

        const del = document.querySelector('.del')
        del.addEventListener('click', () => {
            input.value = '';
        });

        const answer = document.querySelector('.answer');
        answer.addEventListener('click', () => {
            alert(result);
        });

        const reset = document.querySelector('.reset')
        reset.addEventListener('click', () => {
            location.reload();
        });

        const enter = document.querySelector('.enter');
        enter.addEventListener('click', () => {
            input_num = parseInt(input.value)

            if (input_num <= min || input_num >= max) {
                alert(`請輸入${min} ~ ${max}之間的數字`)
                input.value = '';
            }
            else {
                if (input_num === result) {
                    illustrate.innerHTML = '恭喜答對了!'
                    document.querySelector('.illustrate').style.color = 'red'
                    document.querySelector('.illustrate').style.fontSize = '20px'
                }
                else if (input_num > result) {
                    max = input_num;
                    illustrate.innerHTML = `請輸入${min} ~ ${max}之間的數字`
                    input.value = '';
                }
                else if (input_num < result) {
                    min = input_num;
                    illustrate.innerHTML = `請輸入${min} ~ ${max}之間的數字`
                    input.value = '';
                }
            }
        });

        input.addEventListener('keyup',() =>{
            if( event.key === 'Enter'){
                enter.click();
            }
        })

        
    </script>
</body>

</html>